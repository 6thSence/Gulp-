<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Gulp- : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Gulp-</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/6thSence/Gulp-">View on GitHub</a>

          <h1 id="project_title">Gulp-</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/6thSence/Gulp-/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/6thSence/Gulp-/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Little Project Builder on Gulp</p>

<p><img src="https://github.com/6thSence/assets-for-any-occasion/raw/master/200%20(15).gif" alt="wow"></p>

<h2>
<a id="gulpfilejs" class="anchor" href="#gulpfilejs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>gulpfile.js</h2>

<div class="highlight highlight-source-js"><pre> <span class="pl-k">var</span> gulp <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> sass <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-sass<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> autoprefixer <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-autoprefixer<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> concat <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-concat<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> cssnano <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-cssnano<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> rename <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-rename<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> compass <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-compass<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> clean <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-clean<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> notify <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-notify<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> plumber <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-plumber<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> sourcemaps <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-sourcemaps<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> uglify <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-uglify<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> wiredep <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-wiredep<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> useref <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>gulp-useref<span class="pl-pds">'</span></span>);
<span class="pl-k">var</span> browserSync <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>browser-sync<span class="pl-pds">'</span></span>).<span class="pl-en">create</span>();

<span class="pl-c">// Задача с названием 'default' запускается автоматически по команде 'gulp' в консоле.</span>
<span class="pl-c">// Эта конструкция работает синхронно, сначала выполняется задача 'clean' и только после ее завершнения запускается 'dev'.</span>
<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>default<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>clean<span class="pl-pds">'</span></span>], <span class="pl-k">function</span>() {
    <span class="pl-smi">gulp</span>.<span class="pl-en">run</span>(<span class="pl-s"><span class="pl-pds">'</span>dev<span class="pl-pds">'</span></span>);
});
<span class="pl-c">// Аналогично с предыдушей задачей.</span>
<span class="pl-c">// Выполняет задача 'clean' и после ее завершения запускается 'build'.</span>
<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>production<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>clean<span class="pl-pds">'</span></span>], <span class="pl-k">function</span>() {
    <span class="pl-smi">gulp</span>.<span class="pl-en">run</span>(<span class="pl-s"><span class="pl-pds">'</span>build<span class="pl-pds">'</span></span>);
});
<span class="pl-c">// Задача 'dev' представляется собой сборку в режиме разработки.</span>
<span class="pl-c">// Запускает build - сборку, watcher - слежку за файлами и browser-sync.</span>
<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>dev<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>build<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>watch<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>browser-sync<span class="pl-pds">'</span></span>]);
<span class="pl-c">// Задача 'build' представляет собой сборку в режиме продакшен.</span>
<span class="pl-c">// Собирает проект.</span>
<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>build<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>html<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>styles<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>scripts<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>assets<span class="pl-pds">'</span></span>]);
<span class="pl-c">// Задача 'watch' следит за всеми нашими файлами в проекте и при изменении тех или иных перезапустает соответсвующую задачу.</span>
<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>watch<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-smi">gulp</span>.<span class="pl-c1">watch</span>(<span class="pl-s"><span class="pl-pds">'</span>src/styles/**/*.scss<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>styles<span class="pl-pds">'</span></span>]); <span class="pl-c">//стили</span>
    <span class="pl-smi">gulp</span>.<span class="pl-c1">watch</span>(<span class="pl-s"><span class="pl-pds">'</span>src/js/**/*.js<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>scripts<span class="pl-pds">'</span></span>]); <span class="pl-c">//скрипты</span>
    <span class="pl-smi">gulp</span>.<span class="pl-c1">watch</span>([<span class="pl-s"><span class="pl-pds">'</span>./bower.json<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>src/index.html<span class="pl-pds">'</span></span>], [<span class="pl-s"><span class="pl-pds">'</span>html<span class="pl-pds">'</span></span>]); <span class="pl-c">// html</span>
    <span class="pl-smi">gulp</span>.<span class="pl-c1">watch</span>(<span class="pl-s"><span class="pl-pds">'</span>./src/assets/**/*.*<span class="pl-pds">'</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>assets<span class="pl-pds">'</span></span>]); <span class="pl-c">//наши локальные файлы(картинки, шрифты)</span>
    <span class="pl-smi">gulp</span>.<span class="pl-c1">watch</span>(<span class="pl-s"><span class="pl-pds">'</span>src/**/*.{js,css}<span class="pl-pds">'</span></span>).<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>change<span class="pl-pds">'</span></span>, <span class="pl-smi">browserSync</span>.<span class="pl-smi">reload</span>); <span class="pl-c">//Перезапуск browserSynс</span>
});
<span class="pl-c">// Задача 'styles' выполняет сборку наших стилей.\</span>
<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>styles<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-k">return</span> <span class="pl-smi">gulp</span>.<span class="pl-en">src</span>(<span class="pl-s"><span class="pl-pds">'</span>src/styles/{main,about}.scss<span class="pl-pds">'</span></span>)
        .<span class="pl-en">pipe</span>(<span class="pl-en">plumber</span>({ <span class="pl-c">// plumber - плагин для отловли ошибок.</span>
            errorHandler<span class="pl-k">:</span> <span class="pl-smi">notify</span>.<span class="pl-c1">onError</span>(<span class="pl-k">function</span>(<span class="pl-smi">err</span>) { <span class="pl-c">// nofity - представление ошибок в удобном для вас виде.</span>
                <span class="pl-k">return</span> {
                    title<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Styles<span class="pl-pds">'</span></span>,
                    message<span class="pl-k">:</span> <span class="pl-smi">err</span>.<span class="pl-smi">message</span>
                }
            })
        }))
        .<span class="pl-en">pipe</span>(<span class="pl-smi">sourcemaps</span>.<span class="pl-en">init</span>()) <span class="pl-c">//История изменения стилей, которая помогает нам при отладке в devTools.</span>
        .<span class="pl-en">pipe</span>(<span class="pl-en">sass</span>()) <span class="pl-c">//Компиляция sass.</span>
        .<span class="pl-en">pipe</span>(<span class="pl-en">autoprefixer</span>({ <span class="pl-c">//Добавление autoprefixer.</span>
            browsers<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">'</span>last 2 versions<span class="pl-pds">'</span></span>]
        }))
        .<span class="pl-en">pipe</span>(<span class="pl-en">concat</span>(<span class="pl-s"><span class="pl-pds">'</span>styles.css<span class="pl-pds">'</span></span>)) <span class="pl-c">//Соедение всех файлом стилей в один и задание ему названия 'styles.css'.</span>
        .<span class="pl-en">pipe</span>(<span class="pl-en">cssnano</span>()) <span class="pl-c">//Минификация стилей</span>
        .<span class="pl-en">pipe</span>(<span class="pl-smi">sourcemaps</span>.<span class="pl-c1">write</span>())
        .<span class="pl-en">pipe</span>(<span class="pl-en">rename</span>(<span class="pl-s"><span class="pl-pds">'</span>build.css<span class="pl-pds">'</span></span>)) <span class="pl-c">//Переименование</span>
        .<span class="pl-en">pipe</span>(<span class="pl-smi">gulp</span>.<span class="pl-en">dest</span>(<span class="pl-s"><span class="pl-pds">'</span>build/styles<span class="pl-pds">'</span></span>));
});
<span class="pl-c">//Задача для удаление папки build.</span>
<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>clean<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-k">return</span> <span class="pl-smi">gulp</span>.<span class="pl-en">src</span>(<span class="pl-s"><span class="pl-pds">'</span>build/<span class="pl-pds">'</span></span>)
        .<span class="pl-en">pipe</span>(<span class="pl-en">clean</span>());
})

<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>html<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-smi">gulp</span>.<span class="pl-en">src</span>(<span class="pl-s"><span class="pl-pds">'</span>src/index.html<span class="pl-pds">'</span></span>)
        .<span class="pl-en">pipe</span>(<span class="pl-en">wiredep</span>({ <span class="pl-c">//Добавление ссылок на плагины bower.</span>
            directory<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>bower_components/<span class="pl-pds">'</span></span>
        }))
        .<span class="pl-en">pipe</span>(<span class="pl-smi">gulp</span>.<span class="pl-en">dest</span>(<span class="pl-s"><span class="pl-pds">'</span>build/<span class="pl-pds">'</span></span>))
        .<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>end<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() { <span class="pl-c">//запуск задачу 'useref' по завершению задачи 'html'.</span>
            <span class="pl-smi">gulp</span>.<span class="pl-en">run</span>(<span class="pl-s"><span class="pl-pds">'</span>useref<span class="pl-pds">'</span></span>);
        });
});

<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>useref<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-smi">gulp</span>.<span class="pl-en">src</span>(<span class="pl-s"><span class="pl-pds">'</span>build/index.html<span class="pl-pds">'</span></span>)
        .<span class="pl-en">pipe</span>(<span class="pl-en">useref</span>()) <span class="pl-c">//Выполняет объединение файлов в один по указанным в разметке html комментариев.</span>
        .<span class="pl-en">pipe</span>(<span class="pl-smi">gulp</span>.<span class="pl-en">dest</span>(<span class="pl-s"><span class="pl-pds">'</span>build/<span class="pl-pds">'</span></span>));
});

<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>scripts<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-smi">gulp</span>.<span class="pl-en">src</span>(<span class="pl-s"><span class="pl-pds">'</span>src/js/*.js<span class="pl-pds">'</span></span>)
        .<span class="pl-en">pipe</span>(<span class="pl-en">uglify</span>()) <span class="pl-c">//Минификация скриптов.</span>
        .<span class="pl-en">pipe</span>(<span class="pl-smi">gulp</span>.<span class="pl-en">dest</span>(<span class="pl-s"><span class="pl-pds">'</span>build/js<span class="pl-pds">'</span></span>))
        .<span class="pl-en">on</span>(<span class="pl-s"><span class="pl-pds">'</span>end<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() { <span class="pl-c">//запуск задачу 'useref' по завершению задачи 'html'.</span>
            <span class="pl-smi">gulp</span>.<span class="pl-en">run</span>(<span class="pl-s"><span class="pl-pds">'</span>html<span class="pl-pds">'</span></span>);
        });
});
<span class="pl-c">//Задача для запуска сервера.</span>
<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>browser-sync<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-k">return</span> <span class="pl-smi">browserSync</span>.<span class="pl-en">init</span>({
        server<span class="pl-k">:</span> {
            baseDir<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>./build/<span class="pl-pds">'</span></span>
        }
    });
});
<span class="pl-c">//Перемешение наших локальных файлов в папку build</span>
<span class="pl-smi">gulp</span>.<span class="pl-en">task</span>(<span class="pl-s"><span class="pl-pds">'</span>assets<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>() {
    <span class="pl-k">return</span> <span class="pl-smi">gulp</span>.<span class="pl-en">src</span>(<span class="pl-s"><span class="pl-pds">'</span>./src/assets/**/*.*<span class="pl-pds">'</span></span>)
        .<span class="pl-en">pipe</span>(<span class="pl-smi">gulp</span>.<span class="pl-en">dest</span>(<span class="pl-s"><span class="pl-pds">'</span>./build/assets<span class="pl-pds">'</span></span>));
});</pre></div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Gulp- maintained by <a href="https://github.com/6thSence">6thSence</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
